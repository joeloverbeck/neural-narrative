<!-- templates/participants.html -->
{% extends "base.html" %}

{% block styles %}
{{super()}}
<link href="{{ url_for('static', filename='participants.css') }}" rel="stylesheet" type="text/css">
{% endblock %}

{% block title %}Select Characters to Speak With{% endblock %}

{% block content %}
<h1>Select Characters to Speak With</h1>

{% if error %}
<p style="color: red;">{{ error }}</p>
{% endif %}

{% if characters %}
<form action="/participants" method="post">
    <div class="characters-list">
        {% for character in characters %}
        <div class="character card">
            <label>
                <div class="character-content">
                    <input name="selected_characters" type="checkbox" value="{{ character.identifier }}">
                    <img alt="{{ character.name }}" src="{{ character.image_url }}" width="150">
                    <div class="character-details">
                        <h2>{{ character.name }}</h2>
                    </div>
                </div>
            </label>
        </div>
        {% endfor %}
    </div>

    <!-- Add the purpose input here -->
    <label for="purpose">Purpose of the chat:</label>
    <input id="purpose" name="purpose" type="text">
    <!-- Alternatively, use a textarea -->
    <!-- <textarea id="purpose" name="purpose"></textarea> -->

    <input type="submit" value="Start Chat">
</form>
{% else %}
<p>No characters are present at your current location.</p>
{% endif %}
<form action="{{ url_for('story-hub') }}" method="get">
    <input class="action-button" type="submit" value="Story Hub">
</form>
{% endblock %}